<!DOCTYPE html>
<html>
<head>
    <title>Test</title>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=9,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <meta http-equiv="cache-control" content="max-age=0" />
    <meta http-equiv="cache-control" content="no-cache" />
    <meta http-equiv="expires" content="0" />
    <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
    <meta http-equiv="pragma" content="no-cache" />

    <link href="/lib/font-awesome.min.css" rel="stylesheet" />
    <link href="/lib/w2ui-1.5.rc1.min.css" rel="stylesheet" />
    <script src="/lib/jquery.js"></script>
    <script src="/lib/underscore-min.js"></script>
    <script src="/lib/w2ui-1.5.rc1.min.js"></script>
    <link href="/lib/css.css" rel="stylesheet" />
    <script src="/lib/api.js"></script>
</head>
<body>

    <div id="grid" style="width: 100%; height: 400px;"></div>

    <script type="text/javascript">
        $(function () {
            Promise.all([
                getJson('/api/category.json')
            ]).then(function (rs) {
                var cat = rs[0];
                console.log(cat);
                bindData(cat);
            })
            .catch(function (error) {                
            });


            function bindData(cat) {

                $('#grid').w2grid({
                    name: 'grid',
                    columns: [
                        { field: 'name', caption: 'Category', size: '100%' } 
                    ],
                    records: cat
                });
            }
        });
    </script>

</body>
</html>
